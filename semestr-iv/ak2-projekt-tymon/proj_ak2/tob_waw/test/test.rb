# vals = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
# cols = [0, 3, 5, 0, 1, 1, 2, 5, 0,  3,  4,  5,  1,  4,  5]
# rows = [0, 3, 5, 8, 12, 14, 15]


vals = [1,2,1,3,2]
cols = [0,2,1,1,2]
rows = [0,2,3,5]

x = [1,1,1,1,1,1]

i,j,k = 0
y = []

(rows.size-1).times do |i|
  y[i] = 0
  (rows[i]...rows[i+1]).each do |k|
    j = cols[k]
    y[i] += vals[k]*x[j]
  end
end
#


require "matrix"

p y


# m = Matrix[
#   [1, 0, 0, 2, 0, 3],
#   [4, 5, 0, 0, 0, 0],
#   [0, 6, 7, 0, 0, 8],
#   [9, 0, 0, 10, 11, 12],
#   [0, 13, 0, 0, 14, 0],
#   [0, 0, 0, 0, 0, 15]
# ]

m = Matrix[
  [1,0,2],
  [0,1,0],
  [0,3,2]
]

v = Matrix[[1],[1],[1]]


p m
p (m * v)

