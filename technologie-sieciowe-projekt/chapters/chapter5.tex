\newpage
\section{Projekt sieci}
\paragraph{}
Kolejnym etapem naszego projektu jest projekt logiczny sieci. Na Rysunku \textbf{TODO} przedstawiony zostało wzajemne położenie względem siebie budynków, które dla ulatwienia oznaczeń nazywać i opisu nazywać będziemy \textit{B1} i \textit{B2}.

\subsection{Projekt logiczny sieci}
\paragraph{}
Ze względu na charakterystykę działania firmy i potrzeby odbiorcy, sieć podzielona została na sieci \textit{VLany}, odpowiadające każdemu zespołowi programistów. Pozwoli to na łatwe dołączanie osób do różnych zespołów (np. testerów oprogramowania), bez konieczności fizycznego przenoszenia komputea do pomieszczenia danego zespołu.

\paragraph{}
Na każdym piętrze dostepna będzie drukarka sieciowa, posiadająca adres z puli odpowedniego \textit{VLanu}.

\paragraph{}
W celu zapewnienia płynnego ruchu sieciowego na każdym piętrze znajdować sie będzie switch warstwy 2, podpiety do dwóch przełączników warstwy trzeciej znajdujących się an parterze każdego z budynków. Pomiędzy przełącznikami warstwy trzeciej skonfigurowane zostanie funkcja EtherChannel, pozwalający na połączeniu kilku ethernetowych łączy fizycznych w jedno logiczne. Dzięki temu, przełączniki mogą równomiernie rozkładać obciążenie na łączu, zapewnieniają wysokowydajnościowe połączenie pomiędzy urządzeniami sieciowymi.

\paragraph{}
Przełączniki warstwy trzeciej połączone ze sobą zostaną światłowodem w połączeniu każdy z każdym, by zapewnić niezawodność połączenia i zminimalizować ryzyko braku połączenia do internetu lub serwerowni \textit{B2} w wyniku awarii switch'a.

\paragraph{}
Dwa routery znjadujące się w \textit{B1} odpowiedzialne będą za zapewnienie niezawodnego połączenia z internetem. Pomiędzy ruoterami zastosowany zosatnie protokół VRRP, pozwalający na stworzenie klastra dostępowego, określanego jako wirtualny router. Przyśieszy to ruch sieciowy, oraz zwiększy bezpieczeństwo i niezawodność połączenia z internetem.

\newpage
\paragraph{}
Oznaczenia :
\begin{itemize}
	\item B\{X\}S\{Y\} - Switch warstwy 2, gdzie \{X\} - numer budynku, \{Y\} - numer piętra
	\item B\{X\}RS\{Y\} - Switch warstwy 3, gdzie \{X\} - numer budynku, \{Y\} - numer urządzenia
	\item R\{X\} - Router, gdzie \{X\} - numer urządzenia
	\item S\{X\} - Serwer, gdzie \{X\} - numer urządzenia
	\item B\{X\}P\{Y\}A\{Z\} - Access Point, gdzie \{X\} - numer budynku, \{Y\} - numer piętra, \{Z\} - numer urządzenie
	\item B\{X\}P\{Y\}K\{Z\} - Stacja robocza, gdzie \{X\} - numer budynku, \{Y\} - numer piętra, \{Z\} - numer urządzenie
	\item B\{X\}P\{Y\}D\{Z\} - Drukarka sieciowa, gdzie \{X\} - numer budynku, \{Y\} - numer piętra, \{Z\} - numer urządzenie
	\item FW\{X\} - Firewall sprzętowy, gdzie \{X\} - numer urządzenia
\end{itemize}

\newpage
\begin{figure}[H]
  \begin{center}
    \includegraphics[scale = 0.7]{img/schemat-legenda.pdf}
    \caption{Schemat logiczny - legenda}
  \end{center}
\end{figure}

\newpage
\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/schemat.pdf}
    \caption{Schemat logiczny}
  \end{center}
\end{figure}


\paragraph{}
Podział na Vlany :
\begin{itemize}
	\item VLan WiFi - grupujący użytkowników zewnętrznych (np. klientów), niemających dostępu do zasobów wewnętrznych sieci
	\item VLan ZarzadIAdministracja - grupujący pracowników z działu Administracyjnego, HR oraz zarząd firmy
	\item VLan Team\{X\} - (\{X\} numer zespołu) grupujący członków danego zespołu
	\item VLan UrzadzeniaMobilne - grupujący urządzenia mobilne, wykorzystywane przez programistów aplikacji na przenośne aparaty
	\item VLan Serwerownia - grupujący serwery
\end{itemize}

\subsection{Konfiguracja adresacji \textit{IP}}
\paragraph{}
W celu zapewnienia odpowiedniej puli adresów, zapewniajacej możliwość skalowalności i robudowy sieci (np o nowe switche na poszczególnych pietrach) zdecydowaliśmy się na pulę adresów prywatnych klasy A, zaczynając od adresu sieci \textit{10.1.1.0}.
\paragraph{}
Poniżej przedstawiono pule adresowe dla poszczególnych \textit{VLanów} :
\begin{itemize}
	\item VLan WiFi : 10.1.1.0 - 10.1.1.255, Adres sieci : 10.1.1.0, Broadcast : 10.1.1.255, Maska : 255.255.255.0
	\item VLan ZarzadIAdministracja : 10.1.2.0 - 10.1.2.255, Adres sieci : 10.1.2.0, Broadcast : 10.1.2.255, Maska : 255.255.255.0
	\item VLan Team1 10.1.3.0 - 10.1.3.255, Adres sieci : 10.1.3.0, Broadcast : 10.1.3.255, Maska : 255.255.255.0
	\item VLan Team2 10.1.4.0 - 10.1.4.255, Adres sieci : 10.1.4.0, Broadcast : 10.1.4.255, Maska : 255.255.255.0
	\item VLan Team3 10.1.5.0 - 10.1.5.255, Adres sieci : 10.1.5.0, Broadcast : 10.1.5.255, Maska : 255.255.255.0
	\item VLan Team4 10.1.6.0 - 10.1.6.255, Adres sieci : 10.1.6.0, Broadcast : 10.1.6.255, Maska : 255.255.255.0
	\item VLan Team5(Testerzy) 10.1.7.0 - 10.1.7.255, Adres sieci : 10.1.7.0, Broadcast : 10.1.7.255, Maska : 255.255.255.0
	\item VLan UrzadzeniaMobilne 10.1.8.0 - 10.1.8.255, Adres sieci : 10.1.8.0, Broadcast : 10.1.8.255, Maska : 255.255.255.0
	\item VLan Serwerownia 10.1.9.0 - 10.1.9.255, Adres sieci : 10.1.9.0, Broadcast : 10.1.9.255, Maska : 255.255.255.0
\end{itemize}


\subsection{Projekt fizyczny}
\paragraph{}
Na każdym piętrze obu budynków, poza parterem, znajdować się będą naścienne szafy 4U, w których umieszczone zosatną przełączniki warstwy drugiej oraz po dwa patch panele każdy posiadający 24 porty.
\paragraph{}

\subsubsection{Projekt okablowania}
\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/legenda.pdf}
    \caption{Schemat okablowania - legenda}
  \end{center}
\end{figure}


\newpage
\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b1-0.pdf}
    \caption{Budynek 1 - Parter}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b1-1.pdf}
    \caption{Budynek 1 - Piętro I}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b1-2.pdf}
    \caption{Budynek 1 - Piętro II}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b1-3.pdf}
    \caption{Budynek 1 - Piętro III}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b2-0.pdf}
    \caption{Budynek 2 - Parter}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b2-1.pdf}
    \caption{Budynek 2 - Piętro I}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/b2-2.pdf}
    \caption{Budynek 2 - Piętro II}
  \end{center}
\end{figure}


\subsubsection{Umiejscownienie urządzeń w szafach}


\paragraph{}
Na piętrach 1-3 budynku B1 oraz 1,2 budynku B2 umieszczone zostały szafi wiszące, każda zawierająca przełącznik warstwy drugiej oraz dwa 24-portowe patch panele.

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/szafa-mala.pdf}
    \caption{Schemat szafy wiszącej}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/szafa-b1.pdf}
    \caption{Schemat szafy stojącej na parterze budynku B1}
  \end{center}
\end{figure}

\begin{figure}[H]
  \begin{center}
    \includegraphics[width=\textwidth]{img/s/szafa-b2.pdf}
    \caption{Schemat szafy wiszącej na parterze budynku B2}
  \end{center}
\end{figure}


\subsubsection{Tabela połączeń}
\paragraph{}
Poniższe tabele prezentują sposób w jaki zostały przyporządkowane gniazda do kolejnych portów przełącznika warstwy drugiej dla poszczególnych pięter w budynkach.
\input{chapters/chapter5_tables.tex}

\subsection{Podłączenie do internetu}
\paragraph{}
Jednym z najważniejszych punktów projektu sieci jest połączenie z internetem. Zapewnienie wydajnego łacza o wymaganej przepustowości stanowi priorytet przy wyborze dostawcy usług internetowych. W tym celu można wybrać ofertę dzierżawienia łącza od dwóch firm : UPC (główne) i Netia (zapasowe). Obie firmy oferuja symetryczne lub niesymetryczne łącza dedykowane dla firm, pomoc techniczną oraz brak ograniczeń w ilości pobieranych i wysyłanych danych. Pula adresów stałych, sposób podłączenia internetu oraz parametry łącza są sprawą indywidualną, negocjowaną z usługodawcą.

\subsection{Bezpieczeństwo}
\paragraph{}
Projekt sieci powinien przewidywać zabezpieczenie jej przed następującymi czynnikami:
\begin{itemize}
	\item Ataki z zewnątrz :
	\begin{itemize}
		\item Podsłuchanie ramek typu Broadcast
		\item Ataki DoS
		\item Ataki MAC flooding
		\item Vlan leaking
	\end{itemize}
	\item Utrata danych
	\item Wirusy
	\item Czynniki fizyczne
	\begin{itemize}
		\item Uszkodzenia kabli
		\item Pożar
	\end{itemize}
\end{itemize}

\paragraph{}
Podstawową ochronę przeciw atakom z zewnątrz ma pełnić urządzenie UTM NETASQ U70, będące sprzętowym firewall'em. Poza zaporą ogniową  urządzenie oferuje również ochronę IPS, a także filtry antyspamowe i anty wirusowe, monitoring sieci, blokowanie adresów URL oraz autoryzację połączenia. Razem z zabezpieczeniami na routerach oraz możliwością zdefinowania QoS, pełnić będą rolę limiterów sieciowych, zabezpieczających przed ściąganiem szkodliwego oprogramowania, nielegalnych plików oraz pozwolą na ustawienie priorytetu ruchu w sieci.

\paragraph{}
By ochronić stacje robocze przed wirusami, zalecane przez nas jest komercyjne oprogramowanie \textit{NOD32}, posiadające odpowiednie wersje zarówno pod system Windows jak i Linux. W skład pakietu wchodza również aplikacje SpyWare i RootKit. \textit{NOD32} umożliwia również blokowanie niebezpiecznych aplikacji i witryn internetowych.

\paragraph{}
Projektowaną sięć należy zabezpieczyć przed czynnikami fizycznymi jak uszkodzenia kabli, przegrzanie serwerów (ewentualne pożary). W celu uniknięcia mechanicznych uszkodzeń okablowania (czynnik ludzki, gryzonie), przewody prowadzone są w korytkach nasciennych, listwach przypodłogowych, używane są gniazda RJ-45 podtynkowe. W serwerowni, gdzie przez ciągłą pracę serwerów, temperatura otoczenia może gwałtownie wzrosnąć, zalecane jest założenie klimatyzacji oraz umieszczenie gaśnicy proszkowej, odpowiedniej do gaszenia pożarów w instalacjach elektrycznych. Takie gaśnice powinny się również znaleźć na każdym piętrze budynków zgodnie z wymogami BHP.

\paragraph{}
Ze względu na charakterystykę oferowanych usług przez firmę zabezpieczenie kodu przechowywanego na serwerach systemu kontroli wersji, a także danych przechowywanych w bazie danych jest jednym z najważniejszych czynników. Obowiązkowe jest tworzenie kopii zapasowych codziennie w nocy, by nie obciążać zbytnio ruchu sieciowego. By chronić dane przed atakami z zewnątrz dostęp do nich zagwarantowany zsoatnie tylko iwyłącznie z sieci zewnętrznej.

\paragraph{}
Access Pointy, gawarantujące dostęp do internetu uzytkownikom z zewnątrz (np. klientom), zawierać się będą w jednej sieci VLan, nie mającej dostepu do zasobów wewnętrznych.

\paragraph{}
Urządzenia mobilne, korzystające z połączenia z internetem przez WiFi, zgrupowane będą w osobny VLan, a ich autoryzacja odbywac sie będzie po adresach MAC.

\subsection{Kosztorys}
\paragraph{}
TODO